# ğŸ“˜ TIL - 2025.04.22

## ğŸ“Œ MCP ìŠ¤í† ì–´ í”Œë«í¼ ê¸°ìˆ  ì„¤ê³„ ì •ë¦¬

---

### 1. ìì—°ì–´ â†’ MCP í´ëŸ¬ìŠ¤í„° ë³€í™˜ êµ¬ì¡°

- ìì—°ì–´ ì…ë ¥ â†’ LLM ë¶„ì„ â†’ ë‚´ë¶€ DSL(JSON ë“±) ë³€í™˜ â†’ MCP ë¸”ë¡ êµ¬ì„± â†’ ì‹œê°í™” ë° ì‹¤í–‰
- ì˜ˆì‹œ ìì—°ì–´: `"testë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ì€ ê±´ë„ˆë›°ê³  ë‚˜ë¨¸ì§€ì—ì„œ â€˜fooâ€™ë¥¼ â€˜barâ€™ë¡œ ë°”ê¿”ì¤˜"`
- DSL ì˜ˆì‹œ:

```
{
  "steps": [
    { "block": "read_files", "params": { "path": "./" } },
    {
      "block": "filter",
      "condition": "filename.startsWith('test') == false"
    },
    {
      "block": "replace_text",
      "params": {
        "target": "foo",
        "replacement": "bar"
      }
    },
    { "block": "save_file" }
  ]
}
```

### 2. MCP ë¸”ë¡ êµ¬ì¡° ì˜ˆì‹œ
```
{
  "id": "replace_text",
  "version": "1.2.0",
  "inputs": ["text"],
  "outputs": ["text"],
  "params": {
    "target": "string",
    "replacement": "string"
  },
  "runtime": "nodejs",
  "entry": "replaceText.js"
}
```
- ê° ë¸”ë¡ì€ ê³ ìœ  ID, ë²„ì „, I/O íƒ€ì…, ì‹¤í–‰ í™˜ê²½(runtime), entrypointë¥¼ í¬í•¨
- ë¸”ë¡ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸ ë° ì¬ì‚¬ìš© ê°€ëŠ¥

### 3. í´ëŸ¬ìŠ¤í„° ì €ì¥ êµ¬ì¡°
```
{
  "cluster_id": "abc123",
  "name": "íŒŒì¼ ì •ë¦¬ í´ëŸ¬ìŠ¤í„°",
  "owner": "user01",
  "visibility": "public",
  "steps": [ ...MCP DSL... ],
  "created_at": "2025-04-22T09:00:00Z",
  "tags": ["íŒŒì¼", "í…ìŠ¤íŠ¸", "ìë™í™”"]
}
```
- í´ëŸ¬ìŠ¤í„°ëŠ” DSL ê¸°ë°˜ìœ¼ë¡œ ì •ì˜ë˜ë©°, DBì— ì €ì¥ë¨
- ê³µê°œ ì—¬ë¶€ ì„¤ì •, ìŠ¤í† ì–´ì— ë…¸ì¶œ ê°€ëŠ¥

### 4. í´ëŸ¬ìŠ¤í„° ì‹¤í–‰ íë¦„
1. í´ëŸ¬ìŠ¤í„° ìƒì„± or í˜¸ì¶œ
2. MCP ì„œë²„ ì„ íƒ (ë¡œì»¬ or í´ë¼ìš°ë“œ)
3. ë¸”ë¡ ê¸°ë°˜ ì‹¤í–‰
4. ì‹¤í–‰ ê²°ê³¼ UI í”¼ë“œë°± (ë¡œê·¸ í¬í•¨)

### 5. ë””ë²„ê¹… ë° ì‹¤í–‰ ë¡œê·¸ ì˜ˆì‹œ
```
{
  "step": "replace_text",
  "input": "hello foo world",
  "output": "hello bar world",
  "status": "success",
  "duration_ms": 15
}
```
