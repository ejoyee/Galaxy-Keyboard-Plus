# 2025-04-21

# ğŸš€ í•µì‹¬ ê¸°ëŠ¥ í™•ì • ë¬¸ì„œ (Core Feature Fixing)

---

## âœ… ë¬¸ì„œ ëª©ì 

ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì—ì„œ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•  í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì •ì˜í•˜ê³ , ê° ê¸°ëŠ¥ì˜ **ëª©ì , ë²”ìœ„, ìš°ì„ ìˆœìœ„, êµ¬í˜„ ìˆ˜ì¤€**ì„ í™•ì •í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ“Œ í•µì‹¬ ê¸°ëŠ¥ ì„ ì • ê¸°ì¤€

> ì•„ë˜ ê¸°ì¤€ì— ë¶€í•©í•˜ëŠ” ê¸°ëŠ¥ë§Œ â€˜í•µì‹¬ ê¸°ëŠ¥â€™ìœ¼ë¡œ í¬í•¨
> 
- ğŸš© ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ì¤‘ìš”í•œ ê°€ì¹˜ ì œê³µ ì—¬ë¶€
- ğŸ”§ MVP ë‹¨ê³„ì—ì„œ ê¼­ í•„ìš”í•œ ê¸°ëŠ¥ì¸ì§€
- ğŸ’¸ ë¦¬ì†ŒìŠ¤ ëŒ€ë¹„ íš¨ê³¼ê°€ ì¶©ë¶„í•œì§€

---

## ğŸ§© í•µì‹¬ ê¸°ëŠ¥ ëª©ë¡

### ğŸ”§ GitLab ê´€ë ¨

| ê¸°ëŠ¥ëª… | ê¸°ëŠ¥ ì„¤ëª… | ì‚¬ìš©ì ê°€ì¹˜ | êµ¬í˜„ ë²”ìœ„ | ìš°ì„ ìˆœìœ„ | í¬í•¨ ì—¬ë¶€ |
| --- | --- | --- | --- | --- | --- |
| ìë™ ì½”ë“œ ë¦¬ë·° ëŒ“ê¸€ | GitLab MRì— ëŒ€í•œ ìë™ ë¦¬ë·° ëŒ“ê¸€ ì‘ì„± (ì»¨ë²¤ì…˜ ì œì•ˆ í¬í•¨) | ë¦¬ë·° íš¨ìœ¨ í–¥ìƒ ë° ì½”ë“œ í’ˆì§ˆ ê°œì„  | ë””ìì¸íŒ¨í„´/ì¹´ë©œì¼€ì´ìŠ¤ ë“± ì»¨ë²¤ì…˜ ì¤‘ì‹¬ | ë†’ìŒ | âœ… |
| MR í…œí”Œë¦¿ ë° ì œëª© ìë™ ìƒì„± | MR ì œëª© ë° í…œí”Œë¦¿ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ ì»¨ë²¤ì…˜ ë§ì¶¤í™” | ì‘ì„±ì í¸ì˜ ë° ê°€ë…ì„± í–¥ìƒ | í…œí”Œë¦¿ ì¶”ì²œ + ì œëª© ìƒì„± | ì¤‘ê°„ | âœ… |
| ë¦¬ë·°ì–´ ì¶”ì²œ ìë™í™” | MR ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œ ê´€ë ¨ ë¦¬ë·°ì–´ ìë™ ì§€ì • | ë¦¬ë·° ì†ë„ ê°œì„  | ìµœê·¼ ê¸°ì—¬ë„ ë° ê´€ë ¨ ì½”ë“œ ê¸°ë°˜ ì¶”ì²œ | ì¤‘ê°„ | âœ… |
| ì½”ë“œ ìˆ˜ì • ì´ë ¥ ì´ìŠˆí™” | ì½”ë“œ ë¦¬ë·° í›„ ìˆ˜ì •ëœ ë‚´ì—­ì„ GitLab ì´ìŠˆë¡œ ìë™ ë“±ë¡ | ë³€ê²½ì‚¬í•­ ì¶”ì  ë° ê¸°ë¡ ìë™í™” | MRê³¼ ì—°ë™ëœ ì´ìŠˆ ìë™ ìƒì„± | ì¤‘ê°„ | âœ… |

---

### ğŸ“‹ Jira ê´€ë ¨

| ê¸°ëŠ¥ëª… | ê¸°ëŠ¥ ì„¤ëª… | ì‚¬ìš©ì ê°€ì¹˜ | êµ¬í˜„ ë²”ìœ„ | ìš°ì„ ìˆœìœ„ | í¬í•¨ ì—¬ë¶€ |
| --- | --- | --- | --- | --- | --- |
| ëª…ì„¸ì„œ ê¸°ë°˜ Jira í‹°ì¼“ ìƒì„± | ê¸°íš ëª…ì„¸ì„œ ë“±ë¡ ì‹œ ìë™ìœ¼ë¡œ Jira ì—í”½/ìŠ¤í† ë¦¬ ìƒì„± | ê¸°íš-ê°œë°œ ì—°ê³„ ìë™í™” | ëª…ì„¸ì„œì—ì„œ êµ¬ì¡°í™”í•˜ì—¬ ìƒì„± | ë†’ìŒ | âœ… |
| ìë™ ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ë¶„ë°° | ìƒì„±ëœ Jira ìŠ¤í† ë¦¬ì— ì ì ˆí•œ ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ë¶€ì—¬ | ì¼ì • ê´€ë¦¬ íš¨ìœ¨í™” | ê³¼ê±° ì´ë ¥/ìœ ì‚¬ë„ ê¸°ë°˜ ì¶”ì • | ì¤‘ê°„ | âœ… |
| ìŠ¤í† ë¦¬ ë‹´ë‹¹ì ì¶”ì²œ | ìŠ¤í† ë¦¬ ë³„ ë‹´ë‹¹ì ì¶”ì²œ ìë™í™” | ì—…ë¬´ ë¶„ë°° ìë™í™” | íˆìŠ¤í† ë¦¬ ë° ê¸°ì—¬ë„ ê¸°ë°˜ ì¶”ì²œ | ì¤‘ê°„ | âœ… |
| ìœ ì‚¬ ì‘ì—… ì™„ë£Œ ì œì•ˆ | ë³‘í•©ëœ MRê³¼ ìœ ì‚¬í•œ Jira ìŠ¤í† ë¦¬ê°€ ìˆìœ¼ë©´ ì™„ë£Œ ì²˜ë¦¬ ì œì•ˆ | ì¤‘ë³µ ì—…ë¬´ ë°©ì§€ ë° ì§„í–‰ íš¨ìœ¨í™” | ìœ ì‚¬ë„ ë¶„ì„ ê¸°ë°˜ ì•Œë¦¼ ì œê³µ | ë‚®ìŒ | âœ… |

---

### ğŸ¤– ì±—ë´‡ ê´€ë ¨

| ê¸°ëŠ¥ëª… | ê¸°ëŠ¥ ì„¤ëª… | ì‚¬ìš©ì ê°€ì¹˜ | êµ¬í˜„ ë²”ìœ„ | ìš°ì„ ìˆœìœ„ | í¬í•¨ ì—¬ë¶€ |
| --- | --- | --- | --- | --- | --- |
| ì±—ë´‡ Q&A ê¸°ëŠ¥ | ì €ì¥ëœ GitLab ì½”ë“œ/ë¡œê·¸ ê¸°ë°˜ ì±—ë´‡ Q&A ì œê³µ | ì‘ì—… ì´í•´ë„ ë° ìƒì‚°ì„± í–¥ìƒ | ì½”ë“œ/íˆìŠ¤í† ë¦¬ ë¶„ì„ + LLM ì‘ë‹µ | ë†’ìŒ | âœ… |
| í€µì±— í˜•íƒœ ì±—ë´‡ UI | ë‹¨ì¶•í‚¤ ë˜ëŠ” ìš°ì¸¡ í•˜ë‹¨ í€µë²„íŠ¼ í˜•íƒœë¡œ ì±—ë´‡ ì‹¤í–‰ | UX ê°œì„  ë° ì ‘ê·¼ì„± í–¥ìƒ | UI ë‹¨ì¶•í‚¤/ë²„íŠ¼ í†µí•© | ì¤‘ê°„ | âœ… |
| ê¹ƒë©/ì§€ë¼ í†µí•© ëª…ë ¹ ì²˜ë¦¬ | ì±—ë´‡ì—ì„œ ì§ì ‘ ì‘ì—…(ì§€ë¼ í‹°ì¼“ ë“±ë¡, MR ìƒì„± ë“±) ì²˜ë¦¬ | ìƒì‚°ì„± í–¥ìƒ ë° ì „í™˜ ë¹„ìš© ì ˆê° | API í†µí•© ë° ìì—°ì–´ ì²˜ë¦¬ | ë†’ìŒ | âœ… |

---

## âš–ï¸ ê¸°ëŠ¥ ìš°ì„ ìˆœìœ„ ì •ë¦¬ (MoSCoW)

| êµ¬ë¶„ | ê¸°ëŠ¥ ëª©ë¡ |
| --- | --- |
| **Must Have** | ìë™ ì½”ë“œ ë¦¬ë·° ëŒ“ê¸€, ì±—ë´‡ Q&A ê¸°ëŠ¥, ê¹ƒë©/ì§€ë¼ í†µí•© ëª…ë ¹ ì²˜ë¦¬ |
| **Should Have** | MR í…œí”Œë¦¿ ìë™ ìƒì„±, ë¦¬ë·°ì–´ ì¶”ì²œ, Jira ìë™í™” ì „ë°˜ |
| **Could Have** | ìœ ì‚¬ ìŠ¤í† ë¦¬ ì™„ë£Œ ì œì•ˆ, ìë™ ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ë¶„ë°° |
| **Wonâ€™t Have (for now)** | ì—†ìŒ |

---

## ğŸ§  ê²°ì • ë‚´ì—­ ë° ê·¼ê±°

| í•­ëª© | ê²°ì • ë‚´ìš© | ê²°ì • ì´ìœ  / ë…¼ì˜ ë‚´ìš© |
| --- | --- | --- |
| ì½”ë“œ ë¦¬ë·° ìë™í™” í¬í•¨ ì—¬ë¶€ | í¬í•¨ í™•ì • | SSAFY ë“± í˜‘ì—… í™˜ê²½ì—ì„œ ë¦¬ë·° íš¨ìœ¨ ì¤‘ìš” |
| ì±—ë´‡ ê¸°ëŠ¥ í¬í•¨ ì—¬ë¶€ | í¬í•¨ í™•ì • | ì½”ë“œ ì´í•´ ë° ê²€ìƒ‰ ëŠ¥ë ¥ í–¥ìƒ ëª©ì  |
| ì§€ë¼ ìë™í™” ê¸°ëŠ¥ í¬í•¨ ì—¬ë¶€ | í¬í•¨ í™•ì • | ê¸°íš-ê°œë°œ ì—°ê³„ ë° ë¦¬ì†ŒìŠ¤ ì ˆê° ê¸°ëŒ€ |
| í€µì±— UI ë„ì… ì—¬ë¶€ | í¬í•¨ í™•ì • | ì‚¬ìš©ì ì ‘ê·¼ì„± ì¦ê°€ ì˜ˆìƒ |

---

## ğŸ”„ ì¶”í›„ ê²€í†  ê¸°ëŠ¥ (ë³´ë¥˜)

| ê¸°ëŠ¥ëª… | ë³´ë¥˜ ì‚¬ìœ  | ì¶”í›„ ê²€í†  ì‹œì  |
| --- | --- | --- |
| ì—†ìŒ |  |  |

---

### MSA êµ¬ì¡° ê³µë¶€

## âœ… 1. MSA êµ¬ì¡°ì—ì„œ Gatewayì˜ ì—­í• 

### ğŸ“Œ ì£¼ìš” ì—­í• 

- ìš”ì²­ ë¼ìš°íŒ… (ex: `/user/**` â†’ User ì„œë¹„ìŠ¤, `/order/**` â†’ Order ì„œë¹„ìŠ¤)
- ì¸ì¦/ì¸ê°€ ì²˜ë¦¬ (Access Token ê²€ì¦)
- ë¡œê¹…, íŠ¸ë˜í”½ ì œí•œ, CORS ì²˜ë¦¬
- ì‘ë‹µ ë³€í™˜ ë˜ëŠ” í†µí•©

---

## âœ… 2. Access Tokenì€ Gatewayì—ì„œ ì²˜ë¦¬í•˜ë‚˜ìš”?

### ğŸ” ë„¤, **AccessToken ê²€ì¦ì€ ë³´í†µ Gatewayì—ì„œ ì²˜ë¦¬**í•´ìš”.

- í´ë¼ì´ì–¸íŠ¸ â†’ Gateway â†’ ê° ì„œë¹„ìŠ¤ ìˆœìœ¼ë¡œ ìš”ì²­ì´ íë¥¼ ë•Œ,
- **JWT Access Tokenì„ Gatewayì—ì„œ ë¨¼ì € ê²€ì¦**í•´ì„œ,
    - ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ `401 Unauthorized`
    - ìœ íš¨í•˜ë©´ ì‚¬ìš©ì ì •ë³´ë¥¼ ë‚´ë ¤ì£¼ê±°ë‚˜ í—¤ë”ì— ì‹¤ì–´ì„œ ì„œë¹„ìŠ¤ë¡œ ì „ë‹¬

> ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ (sub, roles, exp ë“±)ë¥¼ í—¤ë”ë¡œ ì „ë‹¬í•˜ê±°ë‚˜, Gateway ìì²´ì— ì¸ì¦ í•„í„°(ì˜ˆ: Spring Cloud Gatewayì˜ GlobalFilter)ë¥¼ ì„¤ì •
> 

---

## âœ… 3. GatewayëŠ” ì–´ë–»ê²Œ ìƒê²¼ë‚˜ìš”? (ì˜ˆ: Spring Cloud Gateway ê¸°ì¤€)

### ğŸ“¦ êµ¬ì¡° ì˜ˆì‹œ (Java + Spring Cloud Gateway)

```java
java
ë³µì‚¬í¸ì§‘
@Configuration
public class GatewayConfig {

    @Bean
    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {
        return builder.routes()
            .route("user-service", r -> r.path("/user/**")
                .filters(f -> f.filter(new JwtAuthenticationFilter()))
                .uri("lb://USER-SERVICE"))
            .route("order-service", r -> r.path("/order/**")
                .filters(f -> f.filter(new JwtAuthenticationFilter()))
                .uri("lb://ORDER-SERVICE"))
            .build();
    }
}

```

---

## âœ… 4. JWT í•„í„° ì˜ˆì‹œ (`JwtAuthenticationFilter`)

```java
java
ë³µì‚¬í¸ì§‘
public class JwtAuthenticationFilter implements GatewayFilter {

    @Override
    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {
        String token = extractToken(exchange.getRequest());

        if (token == null || !isValid(token)) {
            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);
            return exchange.getResponse().setComplete();
        }

        // í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ íŒŒì‹± í›„ í—¤ë”ì— ì¶”ê°€
        String userId = parseUserIdFromToken(token);
        exchange.getRequest().mutate()
                .header("X-User-Id", userId)
                .build();

        return chain.filter(exchange);
    }

    // ì•„ë˜ ë©”ì„œë“œë“¤ êµ¬í˜„ ìƒëµ (í† í° ì¶”ì¶œ, ê²€ì¦, íŒŒì‹±)
}

```

---

## âœ… 5. Gateway ê¸°ìˆ  ìŠ¤íƒ ì˜ˆì‹œ

| ê¸°ìˆ  | ì„¤ëª… |
| --- | --- |
| **Spring Cloud Gateway** | Java/Spring ì§„ì˜ì—ì„œ ë§ì´ ì”€ |
| **Kong / NGINX / Envoy** | ê³ ì„±ëŠ¥ API Gateway (ë¹„ Spring ì§„ì˜) |
| **Zuul** | Netflix ê¸°ë°˜ Gateway (Deprecated) |

---

## âœ… ìš”ì•½

| í•­ëª© | ì„¤ëª… |
| --- | --- |
| **AccessToken ì²˜ë¦¬** | ë³´í†µ Gatewayì—ì„œ JWT ê²€ì¦ |
| **êµ¬í˜„ ë°©ì‹** | Java í•„í„° (`GlobalFilter`, `GatewayFilter`)ë¡œ êµ¬í˜„ |
| **ê¸°ìˆ  ì˜ˆì‹œ** | Spring Cloud Gateway, Kong, NGINX |