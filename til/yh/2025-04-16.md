# 2025-04-16

### 아이디어 기획

- 기획서나 이슈 기반의 자연어 입력만으로 JIRA 이슈 등록, PR 생성까지 자동화해주는 개발 지원 AI 도구입니다. RAG와 파인튜닝을 함께 활용하여 조직의 개발 스타일을 반영하고, 실시간 문서와 코드 맥락을 이해해 일관된 설계와 빠른 개발을 가능하게 합니다.
- 컨설턴트님의 피드백 : 개발자를 위한 것은 너무 진부하고 뻔하다, 기술이나 아이디어는 좋으니까 이것을 다른 도메인에 녹여보는 것은 어떤지?
- 우선 기능은 동일하니까 MVP 를 만들어보고 새로운 도메인에 녹여보는 것을 고려해보기로 함.

### MCP 서버 공부 및 poc

- MCP 서버를 이용한 플로우 구현해보기

```bash
아래는 “자연어로 코드베이스를 읽고, 수정하고, 컴파일·테스트까지 자동화하는 MCP 에이전트”의 전반적인 플로우입니다.

사용자 인터페이스

웹 UI / CLI / 모바일 앱 등에서

“어떤 파일 경로에 있는 어떤 프로젝트 폴더 내 파일을 읽고, 기능을 추가해줘” 같은 자연어 명령을 입력

에이전트 진입점

입력된 자연어를 Runner 또는 Runner.run_streamed 로 에이전트에 전달

에이전트는 내부 Agent 인스턴스를 통해 명령을 처리 시작

LLM 백엔드 호출

에이전트는 먼저 명령을 파싱하고, 어떤 툴을 사용할지 결정하기 위해

LLM(예: LocalAI/GPT4All 호환 서버)을 호출해 “이 명령을 수행하려면 어떤 툴을 써야 하나?” 질문

MCP 툴 결정 & 호출

LLM이 함수 호출 형태(directory_tree, list_directory, read_file, edit_file 등)를 반환

에이전트가 MCP 서버(로컬 파일 시스템)로 connect() 한 뒤 해당 툴을 실행

파일 시스템 탐색

directory_tree 또는 list_directory → 프로젝트 폴더 구조 획득

search_files → 특정 파일(예: *.java) 목록 검색

코드 읽기 & 분석

read_multiple_files 로 필요한 파일들 불러오기

LLM에게 “이 코드의 구조는 이렇고, 여기에 새로운 엔드포인트를 추가해줘”라고 추가 지시

코드 수정

LLM이 edit_file 또는 write_file 함수 호출 형태로 수정 지시 반환

에이전트가 MCP 서버에 이 호출을 전달해 실제로 파일을 변경

컴파일 & 테스트

(옵션) execute_command 같은 커스텀 툴을 통해 ./gradlew build 또는 mvn test 실행

컴파일 오류나 테스트 실패 메시지를 캡처

오류 분석 및 재수정

컴파일/테스트 로그를 LLM에 전달하여 “이 오류를 어떻게 고치지?” 질의

LLM이 추가적인 edit_file 호출을 반환 → 에이전트가 반영 → 재컴파일

최종 검증 & 보고

모든 컴파일·테스트가 성공하면, “작업 완료: 새로운 기능이 추가되었고, 모든 테스트가 통과했습니다” 메시지를 사용자에게 반환

실패 시 “아직 이 부분이 오류입니다: …” 와 함께 로그 스니펫 제공

기술 스택 & 구성 요소
에이전트 프레임워크: OpenAI Agents SDK

MCP 서버:

@modelcontextprotocol/server-filesystem (로컬 FS)

필요 시 server-fetch (웹/API 호출)

(옵션) server-exec 같은 커스텀 MCP 서버로 빌드/테스트 명령 실행

LLM 백엔드:

LocalAI (Docker/바이너리)

또는 FastAPI 래퍼 + GPT4All

UI/입력: 웹 앱, CLI, 슬랙/Teams 봇 등
```